# **Finding Lane Lines on the Road** 

一、整体思路
首先对图片进行灰度处理，接着做高斯模糊去除干扰，再用canny梯度算法做边缘检测，将检测出来的边缘二值图用区域选择函数投射到车前梯形区域，最后将梯形区域的边缘像素用拟合成若干条直线后合并到原图中。

其实最终的效果好坏与否主要和几个参数的选择有关，比如：
1、检测区域的选择，虽然摄像头是放置在车身固定位置的，但是随着道路的起伏和转向，检测区域会有较大幅度的变化，所以这个参数适配的范围需要大一点或者能够随着道路的变化而变化。
2、线性拟合函数的参数，改函数的核心是将离散的像素连接成直线，那么这个函数的参数会和摄像头的分辨率，气候环境等因素相关。

二、draw_line优化
在项目中有一个要求是将图片中识别出来的多条线段合并成两根直线（左右车道线），我对于这个优化的思路是这样的：首先把每个端点分类到左侧或者右侧，然后两侧分别计算斜率的平均值，和点坐标的平均值，这样遍历所有端点后可以得到由一个中心点和一个平均斜率确定的一条直线，最后将直线用区域选择函数过滤下就能投射到原图。

三、改进与不足
1、由于道路不可能永远是直线，所以有必要考虑在弯道该如何去拟合曲线。
2、在编码过程中会遇到一些问题诸如：在计算端点时如果线条是垂直于x轴的会导致斜率无穷大，暂未想到特别合适的处理方法。





